{"mappings":"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","sources":["src/js/sing-in.js","src/js/modal-footer.js","src/js/renderLibraryCrads.js","src/js/empty-page.js","src/js/add-to-watched.js","src/js/add-to-queue.js","src/js/loader.js","src/js/on-myLibrary-click.js"],"sourcesContent":["const singInRef = document.querySelector('.header-login__button');\n\nsingInRef.addEventListener('click', onSingInClick);\n\nfunction onSingInClick(e) {\n  e.preventDefault();\n}\n","const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n  for (let index = 0; index < popupLinks.length; index++) {\n    const popupLink = popupLinks[index];\n    popupLink.addEventListener('click', function (e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const curentPopup = document.getElementById(popupName);\n      popupOpen(curentPopup);\n      e.preventDefault();\n    });\n  }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n  for (let index = 0; index < popupCloseIcon.length; index++) {\n    const el = popupCloseIcon[index];\n    el.addEventListener('click', function (e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  }\n}\n\nfunction popupOpen(curentPopup) {\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup.open');\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('open');\n    curentPopup.addEventListener('click', function (e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n  }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('open');\n    if (doUnlock) {\n      bodyUnLock();\n    }\n  }\n}\n\nfunction bodyLock() {\n  const lockPaddingValue =\n    window.innerWidth - document.querySelector('body').offsetWidth + 'px';\n  if (lockPadding.length > 0) {\n    for (let index = 0; index < lockPadding.length; index++) {\n      const el = lockPadding[index];\n      el.style.paddingRight = lockPaddingValue;\n    }\n  }\n  body.style.paddingRight = lockPaddingValue;\n  body.classList.add('lock');\n  //–±–ª–æ–∫ –Ω–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –Ω–∞–∂–∞—Ç–∏—è –≤–æ –≤—Ä–µ–º—è css –∞–Ω–∏–º–∞—Ü–∏–∏\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\nfunction bodyUnLock() {\n  setTimeout(function () {\n    if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = '0px';\n      }\n    }\n    body.style.paddingRight = '0px';\n    body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\n// Add close modal push Escape\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    const popupActive = document.querySelector('.popup.open');\n\n    if (popupActive) {\n      popupClose(popupActive);\n    }\n  }\n});\n","export function renderLibraryCrads(movies) {\n  const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n  const galleryRef = document.querySelector('.gallery');\n\n  const markup = movies\n    .map(movie => {\n      const data = movie.data;\n      const { poster_path, genres, title, release_date } = data;\n      return `<li class=\"movie-card\">\n      <img src=\"${IMAGE_URL}${poster_path}\" alt=\"${title} class=\"movie-card-img\"/>\n      <div class=\"movie-info\">\n      <p class=\"movie-title\">${title}</p>\n      <p class=\"film-cards__title movie-genres\">${genres[0].name}, ${\n        genres[1].name\n      } | ${release_date.slice(0, 4)}</p>\n      </div>\n    </li>`;\n    })\n    .join('');\n  galleryRef.insertAdjacentHTML('beforeend', markup);\n}\n","const emptyPageRef = document.querySelector('.main-library__empty-page');\n\nfunction checkLocalStorage() {\n  const watched = localStorage.getItem('watched');\n  const queue = localStorage.getItem('queue');\n\n  if (watched || queue) {\n    return;\n  }\n  const imgRef = document.querySelector('.opacity');\n  imgRef.classList.remove('opacity');\n  renderEmptyImage();\n}\n\nfunction renderEmptyImage() {\n  const markup = `<p class=\"empty-page__notification\">Sorry ü§∑‚Äç‚ôÇÔ∏è! <br> There are no movies in Your library yet. So, grab Your popcorn bucket and come back to us!</p>`;\n  return emptyPageRef.insertAdjacentHTML('afterbegin', markup);\n}\n\ncheckLocalStorage();\n\nexport { renderEmptyImage };","import { renderLibraryCrads } from './renderLibraryCrads';\nimport { renderEmptyImage } from './empty-page';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst galleryRef = document.querySelector('.gallery');\nconst queueBtn = document.querySelector('.queue-btn');\n\nwatchedBtn.addEventListener('click', onWatchedBtnClick);\n\nasync function onWatchedBtnClick() {\n    clearContent();\n    watchedBtn.classList.add('is-active');\n    queueBtn.classList.remove('is-active');\n    try {\n        const watched = localStorage.getItem('watched');\n        const parseWatched = JSON.parse(watched);\n        if (!watched) {\n            renderEmptyImage();\n        }\n        renderLibraryCrads(parseWatched);\n    } catch (error) {\n        console.log(error);\n    }\n}\nexport function clearContent() {\n    galleryRef.innerHTML = '';\n}\n","import { renderLibraryCrads } from './renderLibraryCrads';\nimport { clearContent } from './add-to-watched';\nimport { renderEmptyImage } from './empty-page';\n\nconst queueBtn = document.querySelector('.queue-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\n\nqueueBtn.addEventListener('click', onQueueBtnClick);\n\nasync function onQueueBtnClick() {\n    queueBtn.classList.add('is-active');\n    watchedBtn.classList.remove('is-active');\n    clearContent();\n\n    try {\n        const queue = JSON.parse(localStorage.getItem('queue'));\n        if (queue === null) {\n            renderEmptyImage();\n        }\n        renderLibraryCrads(queue);\n    }\n    catch (error) {\n        console.log(error);\n    }\n}\n","const loaderRef = document.querySelector('.loader');\n\nfunction loaderShow() {\n  loaderRef.classList.remove('visually-hidden');\n}\n\nfunction loaderHide() {\n  loaderRef.classList.add('visually-hidden');\n}\n\nexport { loaderShow, loaderHide };\n","import { renderEmptyImage } from './empty-page';\nimport { renderLibraryCrads } from './renderLibraryCrads';\nimport { clearContent } from './add-to-watched';\n\n// const myLibraryLink = document.querySelector('.library-link');\n// console.log(myLibraryLink)\n//myLibraryLink.addEventListener('click', onLibraryClickHandler);\n\nconst watched = localStorage.getItem('watched');\nconst queue = localStorage.getItem('queue');\nconst watchedBtn = document.querySelector('.watched-btn');\nconst queueBtn = document.querySelector('.queue-btn');\n\nexport async function onLibraryClickHandler() {\n    //evt.preventDefault();\n    try {\n        if (watched) {\n            clearContent();\n            watchedBtn.classList.add('is-active');\n            const parseWatched = JSON.parse(watched);\n            renderLibraryCrads(parseWatched);\n            const emptyDiv = document.querySelector('.empty-page');\n            emptyDiv.innerHTML = '';\n            return;\n        }\n        else if (queue) {\n            clearContent();\n            queueBtn.classList.add('is-active');\n            const parseQueue = JSON.parse(queue);\n            renderLibraryCrads(parseQueue);\n            return;\n        }\n        else if (watched === null || queue === null) {\n            renderEmptyImage();\n        }\n    }\n    catch (error) {\n        console.log(error);\n    }\n}\nonLibraryClickHandler();"],"names":["document","querySelector","addEventListener","e","preventDefault","$45a9282dbc930ad1$var$popupLinks","querySelectorAll","$45a9282dbc930ad1$var$body","$45a9282dbc930ad1$var$lockPadding","$45a9282dbc930ad1$var$unlock","$45a9282dbc930ad1$var$timeout","length","index","popupLink","popupName","getAttribute","replace","$45a9282dbc930ad1$var$popupOpen","getElementById","$45a9282dbc930ad1$var$popupCloseIcon","index1","el","$45a9282dbc930ad1$var$popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","classList","add","setTimeout","$45a9282dbc930ad1$var$bodyLock","target","doUnlock","remove","$027f49c85b773def$export$ca11fa34db91306d","movies","galleryRef","markup","map","movie","data","poster_path","genres","title","release_date","name","slice","join","insertAdjacentHTML","key","$f4c32f5ec9b850c1$var$emptyPageRef","$f4c32f5ec9b850c1$export$2e7980a1725c02e7","watched","localStorage","getItem","queue","$f4c32f5ec9b850c1$var$checkLocalStorage","$a0a4ec25fbda4c4f$var$watchedBtn","$a0a4ec25fbda4c4f$var$galleryRef","$a0a4ec25fbda4c4f$var$queueBtn","$a0a4ec25fbda4c4f$export$5d3955f796e22601","innerHTML","async","parseWatched","JSON","parse","error","console","log","$8604b1e63f9cc1df$var$queueBtn","$8604b1e63f9cc1df$var$watchedBtn","$7f1173ba6a5e420d$var$watched","$7f1173ba6a5e420d$var$queue","$7f1173ba6a5e420d$var$watchedBtn","$7f1173ba6a5e420d$var$queueBtn","$7f1173ba6a5e420d$export$711a37ce4fde6596"],"version":3,"file":"my-library.eb77f82a.js.map"}