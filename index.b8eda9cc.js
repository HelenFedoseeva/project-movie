var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},i=t.parcelRequiref577;null==i&&((i=function(t){if(t in e)return e[t].exports;if(t in n){var i=n[t];delete n[t];var a={id:t,exports:{}};return e[t]=a,i.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(t,e){n[t]=e},t.parcelRequiref577=i),i("cyIMT"),i("cyIMT"),i("1Ea6K");const a=document.querySelector(".modal");function s({poster_path:t,title:e,vote_average:n,popularity:i,vote_count:s,original_title:l,genres:o,overview:r}){const c=`\n  <div class="wrapper">\n    <div class="image">\n      <img src="https://image.tmdb.org/t/p/w500${t}" alt="${e}" />\n    </div>\n\n    <div class="wrapper__text">\n      <h2 class="wrapper__title">${e}</h2>\n       <div class="wrapper__info">\n        <ul class="list">\n          <li class="list__item">\n           <p class="list__item-text">Vote / Votes</p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-text">Original Title</p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-text">Original Title</p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-text">Genre</p>\n          </li>\n        </ul>\n        <ul class="list list_width">\n          <li class="list__item">\n           <p class="list__item-elem">\n             <span class="active">${n}</span> / ${s}\n           </p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-elem">${i}</p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-elem">${l}</p>\n          </li>\n          <li class="list__item">\n           <p class="list__item-elem">${o.map((t=>t.name)).join(",")}</p>\n          </li>\n        </ul>\n   </div>\n\n   <p class="text">About</p>\n   <p class="paragraph">${r}</p>\n   <div class="btns-box">\n   <button type="button" class="btns-box__btn is-active" data-add="watched">\n     add to Watched\n   </button>\n   <button type="button" class="btns-box__btn" data-add="queue">\n     add to queue\n   </button>\n </div>\n </div>\n \n    </div>\n`;a.insertAdjacentHTML("beforeend",c)}var l=i("2shzp");async function o(t){try{return await l.default.get(`https://api.themoviedb.org/3/movie/${t}?api_key=341a3443d9168179889e844c5b12f774`)}catch(t){console.error(t)}}const r=document.querySelector(".gallery"),c=document.querySelector(".backdrop"),d=(document.querySelector(".modal"),document.querySelector(".modal-btn"));function p(t){"Escape"===t.key&&h()}function u(t){"modal-btn"!==t.currentTarget.classList.value&&"backdrop"!==t.target.classList.value||h()}function h(){c.classList.toggle("is-hidden"),document.removeEventListener("keydown",p),c.removeEventListener("click",u);document.querySelector(".wrapper").remove()}r.addEventListener("click",(function(t){if(t.preventDefault(),document.addEventListener("keydown",p),c.addEventListener("click",u),d.addEventListener("click",u),"IMG"===t.target.nodeName){!async function(t){c.classList.remove("is-hidden");s((await o(t)).data)}(t.target.dataset.id)}}));var f=i("1Ea6K"),g=i("cyIMT");const v=document.querySelector(".loader");function m(){v.classList.remove("visually-hidden")}function _(){v.classList.add("visually-hidden")}var y;y=function(t){var e=function(n,i){this.$target=n,this.options=t.extend({},e.DEFAULTS,this.$target.data("pagination"),"object"==typeof i&&i),this.init()};e.VERSION="1.4.0",e.DEFAULTS={total:1,current:1,length:10,size:2,prev:"&lt;",next:"&gt;",click:function(t){}},e.prototype={init:function(){if(this.options.total<1&&(this.options.total=1),this.options.current<1&&(this.options.current=1),this.options.length<1&&(this.options.length=1),this.options.current>Math.ceil(this.options.total/this.options.length)&&(this.options.current=Math.ceil(this.options.total/this.options.length)),this.options.size<1&&(this.options.size=1),"function"==typeof this.options.ajax){var t=this;this.options.ajax({current:t.options.current,length:t.options.length,total:t.options.total},(function(e){return t.refresh(e)}),t.$target)}else this.render();this.onClick()},render:function(){var t=this.options,e=this.$target;e.empty(),e.append('<li><a herf="javascript:void(0)" data-page="prev">'+t.prev+"</a></li>");var n=this.getPages();n.start>1&&(e.append('<li><a herf="javascript:void(0)" data-page="1">1</a></li>'),e.append("<li><span>...</span></li>"));for(var i=n.start;i<=n.end;i++)e.append('<li><a herf="javascript:void(0)" data-page="'+i+'">'+i+"</a></li>");n.end<Math.ceil(t.total/t.length)&&(e.append("<li><span>...</span></li>"),e.append('<li><a herf="javascript:void(0)" data-page="'+Math.ceil(t.total/t.length)+'">'+Math.ceil(t.total/t.length)+"</a></li>")),e.append('<li><a herf="javascript:void(0)" data-page="next">'+t.next+"</a></li>"),e.find('li>a[data-page="'+t.current+'"]').parent().addClass("active"),t.current<=1&&e.find('li>a[data-page="prev"]').parent().addClass("disabled"),t.current>=Math.ceil(t.total/t.length)&&e.find('li>a[data-page="next"]').parent().addClass("disabled")},getPages:function(){this.$target;var t=this.options,e=t.current-t.size,n=t.current+t.size;return t.current>=Math.ceil(t.total/t.length)-t.size&&(e-=t.current-Math.ceil(t.total/t.length)+t.size),t.current<=t.size&&(n+=t.size-t.current+1),e<1&&(e=1),n>Math.ceil(t.total/t.length)&&(n=Math.ceil(t.total/t.length)),{start:e,end:n}},onClick:function(){var e=this.$target,n=this.options,i=this;e.off("click"),e.on("click",">li>a[data-page]",(function(a){if(!t(this).parent().hasClass("disabled")&&!t(this).parent().hasClass("active")){var s=t(this).data("page");switch(s){case"prev":n.current>1&&n.current--;break;case"next":n.current<Math.ceil(n.total)&&n.current++;break;default:s=parseInt(s),isNaN(s)||(n.current=parseInt(s))}var l={current:n.current,length:n.length,total:n.total};"function"==typeof n.ajax?n.ajax(l,(function(t){return i.refresh(t)}),e):i.render(),n.click(l,e)}}))},refresh:function(t){"object"==typeof t&&(t.total&&(this.options.total=t.total),t.length&&(this.options.length=t.length)),this.render()}},t.fn.pagination=function(n){return this.each((function(){t(this).data("pagination",new e(t(this),n))})),this}},"function"==typeof define&&define.amd?define(["jquery"],y):"function"==typeof define&&define.cmd?define((function(t,e,n){y(t("jquery"))})):y(jQuery);const b=document.querySelector(".gallery");let x=1,w=null;m(),async function t(){b.innerHTML="";try{const t=await(0,g.default)(x);w=t.total_results,(0,f.renderCards)(t,b)}catch(t){console.log(t)}$("#pagination").pagination({total:w,current:x,length:20,size:2,prev:"&lt;",next:"&gt;",click:function(e){x=e.current,m(),t(),setTimeout(_,250)}})}(),setTimeout(_(),250);g=i("cyIMT"),f=i("1Ea6K");const L=document.querySelector("form"),M=document.querySelector(".gallery"),k=document.querySelector(".form__text");let T=1,q=null,j="";async function E(t){if(M.innerHTML="",""!==j){try{const e=await(0,g.fechMuviQueri)(t,T);q=e.total_results,console.log("total",q),(0,f.renderCards)(e,M)}catch(t){console.log(t)}$("#pagination").pagination({total:q,current:T,length:20,size:2,prev:"&lt;",next:"&gt;",click:async function(t){T=t.current,await E(j)}})}}L.addEventListener("submit",(async function(t){if(t.preventDefault(),T=1,j=t.target.elements.input.value.trim(),!j||0===q)return k.classList.remove("hidden"),void setTimeout((()=>{k.classList.add("hidden")}),3e3);m(),E(j),setTimeout(_,250)}));
//# sourceMappingURL=index.b8eda9cc.js.map
