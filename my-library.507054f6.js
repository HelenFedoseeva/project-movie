!function(){const e=document.querySelector(".header-login__button"),t=document.querySelector(".backdrop"),n=(document.querySelector(".modal"),document.querySelector(".modal-btn"));function o(e){"Escape"===e.key&&i()}function c(e){"modal-btn"!==e.currentTarget.classList.value&&"backdrop"!==e.target.classList.value||i()}function i(){t.classList.toggle("is-hidden"),document.removeEventListener("keydown",o),t.removeEventListener("click",c),e.textContent="Sing Out"}e.addEventListener("click",(function(e){e.preventDefault(),document.addEventListener("keydown",o),t.addEventListener("click",c),n.addEventListener("click",c),t.classList.remove("is-hidden")}));const r=document.querySelectorAll(".popup-link"),l=document.querySelector("body"),s=document.querySelectorAll(".lock-padding");let a=!0;const u=800;if(r.length>0)for(let e=0;e<r.length;e++){const t=r[e];t.addEventListener("click",(function(e){const n=t.getAttribute("href").replace("#","");m(document.getElementById(n)),e.preventDefault()}))}const d=document.querySelectorAll(".close-popup");if(d.length>0)for(let e=0;e<d.length;e++){const t=d[e];t.addEventListener("click",(function(e){p(t.closest(".popup")),e.preventDefault()}))}function m(e){if(e&&a){const t=document.querySelector(".popup.open");t?p(t,!1):function(){const e=window.innerWidth-document.querySelector("body").offsetWidth+"px";if(s.length>0)for(let t=0;t<s.length;t++){s[t].style.paddingRight=e}l.style.paddingRight=e,l.classList.add("lock"),a=!1,setTimeout((function(){a=!0}),u)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||p(e.target.closest(".popup"))}))}}function p(e,t=!0){a&&(e.classList.remove("open"),t&&(setTimeout((function(){if(s.length>0)for(let e=0;e<s.length;e++)s[e].style.paddingRight="0px";l.style.paddingRight="0px",l.classList.remove("lock")}),u),a=!1,setTimeout((function(){a=!0}),u)))}function g(e){const t=document.querySelector(".gallery"),n=e.map((e=>{const t=e.data,{poster_path:n,genres:o,title:c,release_date:i}=t;return`<li class="movie-card">\n      <img src="https://image.tmdb.org/t/p/w500${n}" alt="${c} class="movie-card-img"/>\n      <div class="movie-info">\n      <p class="movie-title">${c}</p>\n      <p class="film-cards__title movie-genres">${o[0].name}, ${o[1].name} | ${i.slice(0,4)}</p>\n      </div>\n    </li>`})).join("");t.insertAdjacentHTML("beforeend",n)}document.addEventListener("keydown",(function(e){if("Escape"===e.key){const e=document.querySelector(".popup.open");e&&p(e)}}));const y=document.querySelector(".watched-btn"),f=(document.querySelector(".gallery"),document.querySelector(".queue-btn"));function v(){myLibraryGalleryRef.innerHTML=""}y.addEventListener("click",(async function(){currentPage=1;try{const e=localStorage.getItem("watched");JSON.parse(e);v(),y.classList.add("is-active"),f.classList.remove("is-active"),g(e)}catch(e){console.log(e)}}));const L=document.querySelector(".queue-btn"),S=document.querySelector(".watched-btn");L.addEventListener("click",(async function(){L.classList.add("is-active"),S.classList.remove("is-active"),v();try{g(JSON.parse(localStorage.getItem("queue")),galleryRef)}catch(e){console.log(e)}}));document.querySelector(".loader");const h=document.querySelector(".main-library__empty-page");!function(){const e=localStorage.getItem("watched"),t=localStorage.getItem("queue");if(e||t)return;document.querySelector(".opacity").classList.remove("opacity"),function(){const e='<p class="empty-page__notification">Sorry ü§∑‚Äç‚ôÇÔ∏è! <br> There are no movies in Your library yet. So, grab Your popcorn bucket and come back to us!</p>';h.insertAdjacentHTML("afterbegin",e)}()}()}();
//# sourceMappingURL=my-library.507054f6.js.map
