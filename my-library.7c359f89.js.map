{"mappings":"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","sources":["src/js/sing-in.js","src/js/modal-footer.js","src/js/renderLibraryCrads.js","src/js/add-to-watched.js","src/js/add-to-queue.js","src/js/loader.js","src/js/empty-page.js"],"sourcesContent":["const singInRef = document.querySelector('.header-login__button');\nconst backdropRef = document.querySelector('.backdrop');\nconst modalRef = document.querySelector('.modal');\nconst modalCloseBtn = document.querySelector('.modal-btn');\n\nsingInRef.addEventListener('click', onSingInClick);\n\nfunction onSingInClick(e) {\n  e.preventDefault();\n\n  document.addEventListener('keydown', onEscTap);\n  backdropRef.addEventListener('click', onClickCloseBtnOrOutside);\n  modalCloseBtn.addEventListener('click', onClickCloseBtnOrOutside);\n  openModal();\n}\n\nfunction openModal() {\n  backdropRef.classList.remove('is-hidden');\n}\n\nfunction onEscTap(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction onClickCloseBtnOrOutside(e) {\n  if (\n    e.currentTarget.classList.value === 'modal-btn' ||\n    e.target.classList.value === 'backdrop'\n  ) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  backdropRef.classList.toggle('is-hidden');\n  document.removeEventListener('keydown', onEscTap);\n  backdropRef.removeEventListener('click', onClickCloseBtnOrOutside);\n  singInRef.textContent = 'Sing Out';\n}\n","const popupLinks = document.querySelectorAll('.popup-link');\nconst body = document.querySelector('body');\nconst lockPadding = document.querySelectorAll('.lock-padding');\n\nlet unlock = true;\n\nconst timeout = 800;\n\nif (popupLinks.length > 0) {\n  for (let index = 0; index < popupLinks.length; index++) {\n    const popupLink = popupLinks[index];\n    popupLink.addEventListener('click', function (e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const curentPopup = document.getElementById(popupName);\n      popupOpen(curentPopup);\n      e.preventDefault();\n    });\n  }\n}\n\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\nif (popupCloseIcon.length > 0) {\n  for (let index = 0; index < popupCloseIcon.length; index++) {\n    const el = popupCloseIcon[index];\n    el.addEventListener('click', function (e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  }\n}\n\nfunction popupOpen(curentPopup) {\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup.open');\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('open');\n    curentPopup.addEventListener('click', function (e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n  }\n}\n\nfunction popupClose(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('open');\n    if (doUnlock) {\n      bodyUnLock();\n    }\n  }\n}\n\nfunction bodyLock() {\n  const lockPaddingValue =\n    window.innerWidth - document.querySelector('body').offsetWidth + 'px';\n  if (lockPadding.length > 0) {\n    for (let index = 0; index < lockPadding.length; index++) {\n      const el = lockPadding[index];\n      el.style.paddingRight = lockPaddingValue;\n    }\n  }\n  body.style.paddingRight = lockPaddingValue;\n  body.classList.add('lock');\n  //блок на повторное нажатия во время css анимации\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\nfunction bodyUnLock() {\n  setTimeout(function () {\n    if (lockPadding.length > 0) {\n      for (let index = 0; index < lockPadding.length; index++) {\n        const el = lockPadding[index];\n        el.style.paddingRight = '0px';\n      }\n    }\n    body.style.paddingRight = '0px';\n    body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n  setTimeout(function () {\n    unlock = true;\n  }, timeout);\n}\n\n// Add close modal push Escape\n\ndocument.addEventListener('keydown', function (e) {\n  if (e.key === 'Escape') {\n    const popupActive = document.querySelector('.popup.open');\n\n    if (popupActive) {\n      popupClose(popupActive);\n    }\n  }\n});\n","export function renderLibraryCrads(movies) {\n  const IMAGE_URL = 'https://image.tmdb.org/t/p/w500';\n  const galleryRef = document.querySelector('.gallery');\n\n  const markup = movies\n    .map(movie => {\n      const data = movie.data;\n      const { poster_path, genres, title, release_date } = data;\n      return `<li class=\"movie-card\">\n      <img src=\"${IMAGE_URL}${poster_path}\" alt=\"${title} class=\"movie-card-img\"/>\n      <div class=\"movie-info\">\n      <p class=\"movie-title\">${title}</p>\n      <p class=\"film-cards__title movie-genres\">${genres[0].name}, ${\n        genres[1].name\n      } | ${release_date.slice(0, 4)}</p>\n      </div>\n    </li>`;\n    })\n    .join('');\n  galleryRef.insertAdjacentHTML('beforeend', markup);\n}\n","import { renderLibraryCrads } from './renderLibraryCrads';\n\nconst watchedBtn = document.querySelector('.watched-btn');\nconst galleryRef = document.querySelector('.gallery');\nconst queueBtn = document.querySelector('.queue-btn');\n\nwatchedBtn.addEventListener('click', onWatchedBtnClick);\n\nasync function onWatchedBtnClick() {\n  //clearContent();\n  currentPage = 1;\n  try {\n    const watched = localStorage.getItem('watched');\n    const parseWatched = JSON.parse(watched);\n    clearContent();\n    watchedBtn.classList.add('is-active');\n    queueBtn.classList.remove('is-active');\n\n    renderLibraryCrads(watched, galleryRef);\n  } catch (error) {\n    console.log(error);\n  }\n}\nexport function clearContent() {\n  myLibraryGalleryRef.innerHTML = '';\n}\n","import { renderLibraryCrads } from './renderLibraryCrads';\nimport { clearContent } from './add-to-watched';\n\nconst queueBtn = document.querySelector('.queue-btn');\nconst watchedBtn = document.querySelector('.watched-btn');\n\n\nqueueBtn.addEventListener('click', onQueueBtnClick);\n\nasync function onQueueBtnClick() {\n    queueBtn.classList.add('is-active');\n    watchedBtn.classList.remove('is-active');\n    clearContent();\n\n    try {\n        const queue = JSON.parse(localStorage.getItem('queue'));\n        renderLibraryCrads(queue, galleryRef);\n    }\n    catch (error) {\n        console.log(error);\n    }\n}\n","const loaderRef = document.querySelector('.loader');\n\nfunction loaderShow() {\n  loaderRef.classList.remove('visually-hidden');\n}\n\nfunction loaderHide() {\n  loaderRef.classList.add('visually-hidden');\n}\n\nexport { loaderShow, loaderHide };\n","const emptyPageRef = document.querySelector('.main-library__empty-page');\n\nfunction checkLocalStorage() {\n  const watched = localStorage.getItem('watched');\n  const queue = localStorage.getItem('queue');\n\n  if (watched || queue) {\n    return;\n  }\n  const imgRef = document.querySelector('.opacity');\n  imgRef.classList.remove('opacity');\n  renderEmptyImage();\n}\n\nfunction renderEmptyImage() {\n  const markup = `<p class=\"empty-page__notification\">Sorry 🤷‍♂️! <br> There are no movies in Your library yet. So, grab Your popcorn bucket and come back to us!</p>`;\n  return emptyPageRef.insertAdjacentHTML('afterbegin', markup);\n}\n\ncheckLocalStorage();\n"],"names":["$ca22181470f198b2$var$singInRef","document","querySelector","$ca22181470f198b2$var$backdropRef","$ca22181470f198b2$var$modalCloseBtn","$ca22181470f198b2$var$onEscTap","e","key","$ca22181470f198b2$var$closeModal","$ca22181470f198b2$var$onClickCloseBtnOrOutside","currentTarget","classList","value","target","toggle","removeEventListener","textContent","addEventListener","preventDefault","remove","$8985e5ea97c458df$var$popupLinks","querySelectorAll","$8985e5ea97c458df$var$body","$8985e5ea97c458df$var$lockPadding","$8985e5ea97c458df$var$unlock","length","index","popupLink","popupName","getAttribute","replace","$8985e5ea97c458df$var$popupOpen","getElementById","$8985e5ea97c458df$var$popupCloseIcon","index1","el","$8985e5ea97c458df$var$popupClose","closest","curentPopup","popupActive","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","add","setTimeout","$8985e5ea97c458df$var$bodyLock","doUnlock","$939f210f8d5f4da6$export$ca11fa34db91306d","movies","galleryRef","markup","map","movie","data","poster_path","genres","title","release_date","name","slice","join","insertAdjacentHTML","$bd3a0a3c8ca4b5ff$var$watchedBtn","$bd3a0a3c8ca4b5ff$var$queueBtn","$bd3a0a3c8ca4b5ff$export$5d3955f796e22601","myLibraryGalleryRef","innerHTML","async","currentPage","watched","localStorage","getItem","JSON","parse","error","console","log","$d33f22f1db01ab39$var$queueBtn","$d33f22f1db01ab39$var$watchedBtn","$82c4f3ac25ac9062$var$emptyPageRef","queue","$82c4f3ac25ac9062$var$renderEmptyImage","$82c4f3ac25ac9062$var$checkLocalStorage"],"version":3,"file":"my-library.7c359f89.js.map"}